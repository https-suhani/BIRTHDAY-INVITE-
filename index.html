<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Birthday Surprise</title>

<style>

/* ===== PAGE BACKGROUND ===== */
body {
    margin: 0;
    height: 100vh;
    overflow: hidden;
    font-family: Arial, sans-serif;
    background: radial-gradient(circle at center, #2b7cff 0%, #001f4d 70%);
}

/* ===== DISCO BALLS WITH COLOR LIGHTS ===== */
.disco-ball {
    position: fixed;
    top: 0;
    width: 90px;
    height: 90px;
    border-radius: 50%;
    background: radial-gradient(circle, #ffffff, #cccccc 40%, #888);
    box-shadow: 0 0 25px rgba(255,255,255,0.7);
    animation: swing 3s ease-in-out infinite alternate;
    z-index: 5;
}

.disco-left { left: 40px; }
.disco-right { right: 40px; }

.disco-ball::before {
    content: "";
    position: absolute;
    top: -60px;
    left: 50%;
    width: 4px;
    height: 60px;
    background: white;
    transform: translateX(-50%);
}

/* COLOR LIGHT BEAMS */
.disco-ball::after {
    content: "";
    position: absolute;
    top: 90px;
    left: 50%;
    transform: translateX(-50%);
    width: 220px;
    height: 300px;
    background: linear-gradient(to bottom, rgba(255,0,150,0.4), transparent);
    filter: blur(25px);
    animation: discoColors 4s linear infinite;
}

@keyframes swing {
    from { transform: rotate(-8deg); }
    to { transform: rotate(8deg); }
}

@keyframes discoColors {
    0% { background: linear-gradient(to bottom, rgba(255,0,150,0.4), transparent); }
    25% { background: linear-gradient(to bottom, rgba(0,255,255,0.4), transparent); }
    50% { background: linear-gradient(to bottom, rgba(255,255,0,0.4), transparent); }
    75% { background: linear-gradient(to bottom, rgba(0,255,120,0.4), transparent); }
    100% { background: linear-gradient(to bottom, rgba(255,0,150,0.4), transparent); }
}

/* ===== STADIUM LIGHTS ===== */
.stadium-lights {
    position: fixed;
    inset: 0;
    pointer-events: none;
    background: repeating-linear-gradient(
        90deg,
        rgba(255,255,255,0.06) 0px,
        rgba(255,255,255,0.06) 2px,
        transparent 2px,
        transparent 120px
    );
    animation: lightsMove 8s linear infinite;
}

@keyframes lightsMove {
    from { transform: translateX(0); }
    to { transform: translateX(120px); }
}

.stadium-glow {
    position: fixed;
    inset: 0;
    background: radial-gradient(circle at top, rgba(255,255,255,0.25), transparent 60%);
    animation: glowSweep 5s ease-in-out infinite alternate;
    pointer-events: none;
}

@keyframes glowSweep {
    from { opacity: 0.3; }
    to { opacity: 0.7; }
}

/* ===== BALL HIT EFFECT ===== */
.screen-ball {
    position: fixed;
    left: 50%;
    top: 60%;
    transform: translate(-50%, -50%) scale(0);
    font-size: 70px;
    pointer-events: none;
    z-index: 10;
}

.hit {
    animation: hitScreen 1s ease forwards;
}

@keyframes hitScreen {
    0% { transform: translate(-50%, -50%) scale(0.2); }
    40% { transform: translate(-50%, -50%) scale(2.2); }
    60% { transform: translate(-50%, -50%) scale(1.7); }
    80% { transform: translate(-50%, -50%) scale(2); }
    100% { transform: translate(-50%, -50%) scale(0); }
}

/* ===== CONFETTI ===== */
.confetti {
    position: fixed;
    width: 8px;
    height: 14px;
    top: -20px;
    opacity: 0.9;
    animation: fall linear forwards;
}

@keyframes fall {
    to {
        transform: translateY(110vh) rotate(720deg);
        opacity: 1;
    }
}

/* ===== CENTER CONTAINER ===== */
.container {
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
}

/* ===== ENVELOPE ===== */
.envelope {
    position: relative;
    width: 460px;
    height: 280px;
    background: #f5deb3;
    border-radius: 10px;
    cursor: pointer;
    box-shadow: 0 10px 25px rgba(0,0,0,0.25);
}

.flap {
    position: absolute;
    top: 0;
    width: 0;
    height: 0;
    border-left: 230px solid transparent;
    border-right: 230px solid transparent;
    border-top: 170px solid #e0c097;
    transform-origin: top;
    transition: transform 1s ease, opacity 0.6s ease;
    z-index: 3;
}

.open .flap {
    transform: rotateX(180deg);
    opacity: 0;
}

.football {
    position: absolute;
    font-size: 60px;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 4;
    transition: opacity 0.5s ease;
}

.open .football { opacity: 0; }

.tap-text {
    position: absolute;
    bottom: -40px;
    width: 100%;
    text-align: center;
    color: white;
    font-size: 18px;
    letter-spacing: 1px;
    animation: pulse 1.5s infinite;
}

@keyframes pulse {
    0% { opacity: 0.4; }
    50% { opacity: 1; }
    100% { opacity: 0.4; }
}

.open .tap-text { opacity: 0; }

/* ===== CARD ===== */
.card {
    position: absolute;
    width: 400px;
    height: 230px;
    background: white;
    border-radius: 14px;
    box-shadow: 0 12px 35px rgba(0,0,0,0.35);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding: 20px;
    transform: translate(-50%, 40px);
    left: 50%;
    top: 50%;
    opacity: 0;
    transition: transform 1s ease, opacity 1s ease;
    z-index: 2;
}

.card h1 { margin: 5px 0; font-size: 22px; }
.card h2 { margin: 5px 0; color: #2b7cff; }
.card h3 { margin: 5px 0; font-weight: normal; }

.open .card {
    opacity: 1;
    transform: translate(-50%, -50%);
}


/* ===== FIREWORKS ===== */
.firework {
    position: fixed;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    pointer-events: none;
}

@keyframes explode {
    from {
        transform: translate(0,0) scale(1);
        opacity: 1;
    }
    to {
        transform: translate(var(--x), var(--y)) scale(0.3);
        opacity: 0;
    }
}

</style>
</head>

<body>

<!-- Disco Balls -->
<div class="disco-ball disco-left"></div>
<div class="disco-ball disco-right"></div>

<div class="stadium-lights"></div>
<div class="stadium-glow"></div>

<!-- Ball hitting screen -->
<div class="screen-ball" id="screenBall">‚öΩ</div>

<!-- Crowd cheer audio -->
<audio id="cheerSound" preload="auto">
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_115b9b8b2c.mp3" type="audio/mpeg">
</audio>

<div class="container">
    <div class="envelope" onclick="openEnvelope(this)">
        <div class="flap"></div>
        <div class="football">‚öΩ</div>
        <div class="card">
            <h1>YOU ARE INVITED TO</h1>
            <h2>üéâ Shivam's 12th Birthday Party! üéâ</h2>
            <h3>üìÖ 1st March</h3>
            <p>Join us for fun, laughter, and party! ‚öΩüéÇ</p>
            <p>üìç 32 DDA SFS Flats, Sec 22</p>
        </div>
        <div class="tap-text">Tap the envelope</div>
    </div>
</div>

<script>

// EXTRA CROWD CHEER LAYER
function playCrowdCheer(){
    const sound = document.getElementById("cheerSound");
    sound.volume = 1.0;
    sound.currentTime = 0;
    sound.play().catch(()=>{});
}

function openEnvelope(el) {
    el.classList.add("open");

    // Crowd cheering
    playCrowdCheer();
    el.classList.add("open");

    // Play cheer sound
    const sound = document.getElementById("cheerSound");
    sound.currentTime = 0;
    sound.play().catch(()=>{});

    // Ball hit animation
    const ball = document.getElementById("screenBall");
    ball.classList.remove("hit");
    void ball.offsetWidth;
    ball.classList.add("hit");

    // Confetti
    createConfetti();

    // Fireworks
    launchFireworks();
    createConfetti();
}

function launchFireworks(){
    for(let i=0;i<6;i++){
        setTimeout(()=> createFireworkBurst(), i*300);
    }
}

function createFireworkBurst(){
    const centerX = Math.random()*window.innerWidth;
    const centerY = Math.random()*window.innerHeight*0.5;
    const colors = ["#ff4d4d","#ffd700","#00ffcc","#ffffff","#ff7cff","#4da6ff"];

    for(let i=0;i<30;i++){
        const part = document.createElement("div");
        part.className = "firework";
        part.style.left = centerX + "px";
        part.style.top = centerY + "px";
        part.style.background = colors[Math.floor(Math.random()*colors.length)];

        const angle = Math.random()*2*Math.PI;
        const distance = 80 + Math.random()*120;
        part.style.setProperty("--x", Math.cos(angle)*distance + "px");
        part.style.setProperty("--y", Math.sin(angle)*distance + "px");
        part.style.animation = "explode 1s ease-out forwards";

        document.body.appendChild(part);
        setTimeout(()=>part.remove(),1000);
    }
}

function createConfetti() {
    const colors = ["#ff4d4d","#ffd700","#00ffcc","#ffffff","#ff7cff"];

    for (let i = 0; i < 80; i++) {
        const conf = document.createElement("div");
        conf.className = "confetti";
        conf.style.left = Math.random() * 100 + "vw";
        conf.style.background = colors[Math.floor(Math.random()*colors.length)];
        conf.style.animationDuration = (2 + Math.random()*3) + "s";
        document.body.appendChild(conf);
        setTimeout(() => conf.remove(), 5000);
    }
}
</script>

</body>
</html>
